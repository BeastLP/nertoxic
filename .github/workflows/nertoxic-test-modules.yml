name: Nertoxic Module Test

on:
  push:
    paths:
      - '**.php'

  pull_request:
    paths:
      - '**.php'
    
permissions:
    contents: read

jobs:
    code-review:
        name: Module Test by Nertoxic
        runs-on: ubuntu-latest

        steps:
        - name: Package Updating
          run: sudo apt-get update

        - name: Checkout
          uses: actions/checkout@v4

        - name: PHP Setup
          uses: shivammathur/setup-php@v2
          with:
            php-version: '8.1'

        - name: Composer installation
          run: composer update

        - name: Run framework test
          working-directory: public/test
          run: php modules.php